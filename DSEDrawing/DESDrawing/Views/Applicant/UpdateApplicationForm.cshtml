@model DESDrawing.Models.Applicant
@{
    ViewBag.Title = "UpdateApplicationForm";
    Layout = "~/Views/Shared/_ApplicantLayout.cshtml";
}

<div class="page-wrapper">
    <div class="row page-titles">
        <div class="col-md-12 align-self-center">
            <h3 class="text-themecolor font-20 clearfix">Application Details</h3>
        </div>
    </div>


    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                @{
                    string Code = (string)TempData["code"];
                    string msg = (string)TempData["Msg"];
                    if (!string.IsNullOrEmpty(Code))
                    {
                        if (Code == "1")
                        {
                            <div class="alert alert-success msgdiv">
                                <strong>Success!</strong> @msg
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span aria-hidden="true">&times;</span> </button>
                            </div>
                        }
                        else
                        {
                            <div class="alert alert-danger msgdiv">
                                <strong>Error!</strong> @msg
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span aria-hidden="true">&times;</span> </button>
                            </div>
                        }
                    }
                }
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="card card-outline-info">
                    <div class="card-header">
                        <h4 class="m-b-0 text-white">
                            Applicantion
                        </h4>
                    </div>
                    <div class="card-body">
                        <div class="d-flex justify-content-between">
                            <h2>Application Number: @Model.Applicant_No</h2>
                            @if (Model.Status == "Pending")
                            {
                                <h2 class="btn btn-info">Status : @Model.Status</h2>
                            }
                            else if (Model.Status == "Approved")
                            {
                                <h2 class="btn btn-success">Status : @Model.Status</h2>
                            }
                            else if (Model.Status == "Resubmitted")
                            {
                                <h2 class="btn btn-primary">Status : @Model.Status</h2>
                            }
                            else if (Model.Status == "Declined")
                            {
                                <h2 class="btn btn-danger">Status : @Model.Status</h2>
                            }
                            else if (Model.Status == "Query")
                            {
                                <h2 class="btn btn-warning">Status : @Model.Status</h2>
                            }
                        </div>
                        <h3 class="box-title m-t-20">Applicant Details</h3>
                        <form action="/Applicant/UpdateApplicationForm" method="post" id="ApplicantFormSubmit" onsubmit="return validate();">
                            <div class="form-body">

                                <div class="row p-t-20">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label">
                                                First Name<span class="text-danger">*</span>
                                            </label>
                                            @Html.TextBoxFor(m => m.First_name, new { @class = "form-control", @placeholder = "Enter Your First Name..", @readonly = "readonly" })
                                            @Html.HiddenFor(Model => Model.PK_Applicant_id)
                                        </div>
                                    </div>
                                    <!--/span-->
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label">
                                                Last Name<span class="text-danger">*</span>
                                            </label>
                                            @Html.TextBoxFor(m => m.Last_name, new { @class = "form-control", @placeholder = "Enter Your Last Name..", @readonly = "readonly" })
                                        </div>
                                    </div>
                                    <!--/span-->
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label">
                                                Gender<span class="text-danger">*</span>
                                            </label>
                                            @Html.TextBoxFor(m => m.Gender, new { @class = "form-control", @readonly = "readonly" })

                                        </div>
                                    </div>


                                    <!--/span-->
                                    @*<div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    Date of Application<span class="text-danger">*</span>
                                                </label>
                                                @Html.TextBoxFor(m => m.Dt_of_application, new { @class = "form-control", placeholder = "dd-mm-yyyy", @type = "date" })
                                            </div>
                                        </div>*@
                                    <!--/span-->
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label">
                                                Phone Number<span class="text-danger">*</span>
                                            </label>
                                            @Html.TextBoxFor(m => m.Phone_number, new { maxlength = 10, @class = "form-control", @Id = "Phone_number", @name = "Phone_number", placeholder = "Phone Number", @readonly = "readonly" })
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label">
                                                Email<span class="text-danger">*</span>
                                            </label>
                                            @Html.TextBoxFor(m => m.Email, new { @class = "form-control", @placeholder = "Enter Your Email Id..", @readonly = "readonly" })
                                        </div>
                                    </div>


                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <label>Address<span class="text-danger">*</span></label>
                                            @Html.TextAreaFor(m => m.Address, new { @class = "form-control", @placeholder = "Enter Your Address..", @readonly = "readonly" })
                                        </div>
                                    </div>
                                </div>

                                <h3 class="box-title m-t-20">Location of Installation</h3>
                                <hr>

                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="control-label">
                                                State<span class="text-danger">*</span>
                                            </label>
                                            @Html.TextBoxFor(m => m.State_Name, new { @class = "form-control", @placeholder = "Uttar Pradesh", @readonly = "readonly", @value = "Uttar Pradesh" })
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>District/City<span class="text-danger">*</span></label>
                                            @Html.TextBoxFor(m => m.District_name, new { @class = "form-control", @readonly = "readonly", disabled = "disabled" })
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Tehsil<span class="text-danger">*</span></label>
                                            @Html.TextBoxFor(m => m.Tehsil_name, new { @class = "form-control", @placeholder = "Enter Your Tehsil..", @readonly = "readonly" })
                                        </div>
                                    </div>

                                </div>

                                <!--/row-->
                                <div class="row">


                                    <!--/span-->
                                    <!--/span-->

                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Town/Village<span class="text-danger">*</span></label>
                                            @Html.TextBoxFor(m => m.Town_name, new { @class = "form-control", @placeholder = "Enter Your Town/Village..", @readonly = "readonly" })
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Post Code<span class="text-danger">*</span></label>
                                            @Html.TextBoxFor(m => m.Pincode, new { maxlength = 6, @class = "form-control", @placeholder = "Enter Pincode..", @readonly = "readonly" })
                                        </div>
                                    </div>
                                    <!--/span-->
                                </div>

                                <h3 class="box-title m-t-20">
                                    Details of Licensed Electrical
                                    contractor
                                </h3>
                                <hr>

                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label class="control-label">Name:</label>
                                            @Html.TextBoxFor(m => m.LIC_contractor, new { @class = "form-control", @placeholder = "Enter Contractor.." })
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label class="control-label">LEC:</label>
                                            @Html.TextBoxFor(m => m.LEC, new { @class = "form-control", @placeholder = "Enter LEC.." })
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label class="control-label">Supervisor Name:</label>
                                            @Html.TextBoxFor(m => m.LIC_supervisor, new { @class = "form-control", @placeholder = "Enter Supervisor name.." })
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label class="control-label">Wireman Name:</label>
                                            @Html.TextBoxFor(m => m.Wireman, new { @class = "form-control", @placeholder = "Enter Wireman.." })
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label class="control-label">Address:</label>
                                            @Html.TextBoxFor(m => m.LIC_Address, new { @class = "form-control", @placeholder = "Enter Address.." })
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label class="control-label">Firm Name:</label>
                                            @Html.TextBoxFor(m => m.FirmName, new { @class = "form-control", @placeholder = "Enter Firm.." })
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label class="control-label">Licensed no.</label>
                                            @Html.TextBoxFor(m => m.LicensedNo, new { @class = "form-control", @placeholder = "Enter Licensed no.." })
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label class="control-label">Validity:</label>
                                            @Html.TextBoxFor(m => m.LIC_validity, new { @class = "form-control" })
                                        </div>
                                    </div>
                                </div>

                                <h3 class="box-title m-t-20">Brief details of installation</h3>
                                <hr>

                                <div class="row">
                                    <div class="col-md-3">

                                        <h3>HT:</h3>

                                    </div>
                                    <div class="col-md-3 ">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Existing<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.HT_Existing, new
                                       {
                                           @class = "form-control qty1",
                                           @placeholder = "Enter Existing..",
                                           @onkeypress = "return onlyNos(event,this)",
                                           @onchange = "subtotalcapacity(1)",
                                           maxlength = 8
                                       })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Proposed<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.HT_proposed, new
                                       {
                                           @class = "form-control qty1",
                                           @placeholder = "Enter Proposed..",
                                           @onkeypress = "return onlyNos(event,this)",
                                           @onchange = "subtotalcapacity(1)",
                                           maxlength = 8
                                       })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Total Capacity<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.HT_capacity, new { @class = "form-control total1", @placeholder = "HTs Capacity..", @readonly = "readonly" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">

                                        <h3>DG:</h3>

                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Existing<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.DG_Existing, new { maxlength = 8, @class = "form-control qty2", @placeholder = "Enter Existing..", @onkeypress = "return onlyNos(event,this)", @onchange = "subtotalcapacity(2)" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Proposed<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.DG_proposed, new { maxlength = 8, @class = "form-control qty2", @placeholder = "Enter Proposed..", @onkeypress = "return onlyNos(event,this)", @onchange = "subtotalcapacity(2)" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Total Capacity<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.DG_capacity, new { @class = "form-control total2", @placeholder = "DGs Capacity..", @readonly = "readonly" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">

                                        <h3>MSB:</h3>

                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Existing<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.MSB_Existing, new { maxlength = 8, @class = "form-control qty3", @placeholder = "Enter Existing..", @onkeypress = "return onlyNos(event,this)", @onchange = "subtotalcapacity(3)" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Proposed<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.MSB_proposed, new { maxlength = 8, @class = "form-control qty3", @placeholder = "Enter Proposed..", @onkeypress = "return onlyNos(event,this)", @onchange = "subtotalcapacity(3)" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Total Capacity<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.MSB_capacity, new { @class = "form-control total3", @placeholder = "MSBs Capacity..", @readonly = "readonly" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">

                                        <h3>Transmission Line:</h3>

                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Existing<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.TL_Existing, new { maxlength = 8, @class = "form-control qty4", @placeholder = "Enter Existing..", @onkeypress = "return onlyNos(event,this)", @onchange = "subtotalcapacity(4)" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Proposed<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.TL_proposed, new { maxlength = 8, @class = "form-control qty4", @placeholder = "Enter Proposed..", @onkeypress = "return onlyNos(event,this)", @onchange = "subtotalcapacity(4)" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Total Capacity<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.TL_capacity, new { @class = "form-control total4", @placeholder = "TLs Capacity..", @readonly = "readonly" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">

                                        <h3>DTCs:</h3>

                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Existing<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.DTC_Existing, new { maxlength = 8, @class = "form-control qty5", @placeholder = "Enter Existing..", @onkeypress = "return onlyNos(event,this)", @onchange = "subtotalcapacity(5)" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Proposed<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.DTC_proposed, new { maxlength = 8, @class = "form-control qty5", @placeholder = "Enter Proposed..", @onkeypress = "return onlyNos(event,this)", @onchange = "subtotalcapacity(5)" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Total Capacity<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.DTC_capacity, new { @class = "form-control total5", @placeholder = "DTCs Capacity..", @readonly = "readonly" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">

                                        <h3>IPP:</h3>

                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Existing<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.IPP_Existing, new { maxlength = 8, @class = "form-control qty6", @placeholder = "Enter Existing..", @onkeypress = "return onlyNos(event,this)", @onchange = "subtotalcapacity(6)" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Proposed<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.IPP_proposed, new { maxlength = 8, @class = "form-control qty6", @placeholder = "Enter Proposed..", @onkeypress = "return onlyNos(event,this)", @onchange = "subtotalcapacity(6)" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Total Capacity<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.IPP_capacity, new { @class = "form-control total6", @placeholder = "IPPs Capacity..", @readonly = "readonly" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-3">

                                        <h3>Others:</h3>

                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Existing<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.Other_Existing, new { maxlength = 8, @class = "form-control qty7", @placeholder = "Enter Existing..", @onkeypress = "return onlyNos(event,this)", @onchange = "subtotalcapacity(7)" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Proposed<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.Other_proposed, new { maxlength = 8, @class = "form-control qty7", @placeholder = "Enter Proposed..", @onkeypress = "return onlyNos(event,this)", @onchange = "subtotalcapacity(7)" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Total Capacity<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.Other_capacity, new { @class = "form-control total7", @placeholder = "Others Capacity..", @readonly = "readonly" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-3">

                                    </div>
                                    <div class="col-md-3">

                                    </div>
                                    <div class="col-md-1">

                                    </div>
                                    <div class="col-md-2">

                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group input-group">
                                            @*<label class="control-label">
                                                    Total Capacity<span class="text-danger">*</span>
                                                </label>*@
                                            @Html.TextBoxFor(m => m.Total, new { @class = "form-control total", @placeholder = "Total Capacity..", @readonly = "readonly" })
                                            <div class="input-group-append">
                                                <span class="input-group-text" id="basic-addon2">KV</span>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="control-label">Type of Installation</label>
                                            @Html.DropDownList("InstallationType", new List<SelectListItem>()
                                       {
                    new SelectListItem(){ Text= "Commercial", Value = "Commercial"},
                    new SelectListItem(){ Text= "Industrial", Value = "Industrial"},
                    new SelectListItem(){ Text= "Residential", Value = "Residential"},
                    new SelectListItem(){ Text= "Hotel", Value = "Hotel"},
                    new SelectListItem(){ Text= "Institutional", Value = "Institutional"},
                    new SelectListItem(){ Text= "Generating Plant", Value = "Generating Plant"},
                    new SelectListItem(){ Text= "Irrigation", Value = "Irrigation"},
                    new SelectListItem(){ Text= "Other", Value = "Other"},
                }, "--Select--", new { @class = "form-control" })
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="card-body">
                                        <h3 class="card-title" style="margin-top: 5px;">Enclosure Document</h3>
                                        <div class="row m-t-30">
                                            @foreach (var i in @Model.DocumentList)
                                            {
                                                var extension = Path.GetExtension(i.Doc_filepath);
                                                <div class="col-md-6 mb-4">

                                                    <h3 class="mb-2">@i.Document_type (STATUS : @i.Status)</h3>
                                                    @if (extension == ".jpg" || extension == ".jpeg" || extension == ".png")
                                                    {
                                                        <img src="@i.Doc_filepath" height="350" width="550" />
                                                    }
                                                    else
                                                    {
                                                        <a href="@i.Doc_filepath" target="_blank" class="btn btn-warning  ">
                                                            <i class="fa fa-download"></i>
                                                        </a>
                                                    }
                                                </div>


                                            }


                                            <div class="col-md-12">
                                                <div class="card">
                                                    <div class="card-body">
                                                        <div class="table-responsive">
                                                            <table width="100%" class="table table-bordered" cellspacing="0" cellpadding="1">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Remark</th>
                                                                        <th>Date</th>
                                                                        <th>Image</th>
                                                                        <th>Given By</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        @if (Model != null && Model.RemarkLists != null)
                                                                        {
                                                                            if (Model.RemarkLists.Count() > 0)
                                                                            {
                                                                                foreach (var i in Model.RemarkLists)
                                                                                {
                                                                                    var extension = Path.GetExtension(i.Doc_filepath) + "";
                                                                                <tr>
                                                                                    <td>@i.Remark</td>
                                                                                    <td>@i.Created_at</td>
                                                                                    <td>
                                                                                        @if (i.Doc_filepath != null && i.Doc_filepath != " ")
                                                                                        {

                                                                                            if (extension == ".jpg" || extension == ".jpeg" || extension == ".png")
                                                                                            {
                                                                                                <img src="@i.Doc_filepath" height="100" width="100" target="_blank"/>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <a href='@(i.Doc_filepath + "")' height="50" width="50" target="_blank" class="btn btn-warning  ">
                                                                                                    <i class="fa fa-download"></i>
                                                                                                </a>
                                                                                            }

                                                                                        }
                                                                                        else
                                                                                        {
                                                                                           
                                                                                        }
                                                                                    </td>
                                                                                    <td>@i.RemarkBy</td>
                                                                                </tr>
                                                                            }
                                                                        }

                                                                    }

                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            @if (Model != null)
                                            {
                                                if ((Model.Status + "").ToString().ToUpper() == "QUERY")
                                                {
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label class="control-label">Remark</label>
                                                                @Html.TextBoxFor(m => m.Remark, new { @class = "form-control", @placeholder = "Enter Remark.." })
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label class="control-label">Others</label>
                                                                <input class="form-control" onchange="UploadFile(this,'OtherFile')" type="file" id="OtherFileuploadImageUrl" />
                                                                @Html.HiddenFor(m => m.OtherFile, new { @class = "form-control" })
                                                                @if (!string.IsNullOrEmpty(Model.OtherFile))
                                                                {
                                                                    <img src="@Model.OtherFile" height="50" width="50" id="imgOtherFile" />
                                                                }
                                                            </div>
                                                        </div>

                                                    </div>
                                                }
                                            }

                                        </div>
                                        @if (Model != null)
                                        {
                                            if ((Model.Status + "").ToString().ToUpper() == "QUERY")
                                            {
                                                <button class="btn btn-success hstheme-button-o text-white">
                                                    <i class="fa fa-check"></i>
                                                    RESUBMIT
                                                </button>

                                            }
                                        }
                                    </div>
                            </form>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script>


    if (@Model.FK_State_id > 0) {
        debugger;
        bindcities(@Model.FK_State_id);
    }

    function bindcities(id) {
        debugger;
        var FK_State_id = $('#FK_State_id').val();
        $.ajax({
            url: '/Applicant/Getsubcities',
            type: 'post',
            data: { FK_State_id: FK_State_id },
            dataType: 'json',
            containtType: 'aplication/json;charset=utf-8',
            success: function (data) {
                if (data != null) {
                    $('#SubFK_City_id').empty();
                    $('#SubFK_City_id').append('<option>---Select----</option>');
                    for (var i = 0; i < data.length; i++) {

                        $('#SubFK_City_id').append('<option value=' + data[i].Value + '>' + data[i].Text + '</option>');
                    }
                    if (id > 0) {
                        $("#SubFK_City_id").val(@Model.FK_City_id);
                    }
                }
            },
            error: function (error) {
            }


        })
    }

     function UploadFile(obj, type) {
        debugger;
        var filename = $(obj)[0].files[0].name;
        var fileId = $(obj).attr("id");
        var ext = obj.value.match(/\.(.+)$/)[1];

        switch (ext) {
            case 'jpg':
            case 'jpeg':
            case 'png':
            case 'pdf':
                var fileSize = ($("#" + fileId)[0].files[0].size / 1024 / 1024);
                //if (fileSize > 2) {
                //    swal("", "File size should not exceed 2 MB.\r\nफाइल का साइज़ 2 MB से अधिक नहीं होना चाहिए।", "warning");
                //    return false;
                //}
                //else {
                var data = new FormData();
                var files = $("#" + fileId).get(0).files;
                if (files.length > 0) {
                    data.append("File", files[0]);
                }
                data.append("type", type);
                $("#divLoader").show();
                $.ajax({
                    url: '@Url.Action("AddImageFile", "Applicant")',
                    type: "POST",
                    processData: false,
                    contentType: false,
                    data: data,
                    success: function (response) {
                        $("#divLoader").hide();

                        if (response != null) {
                            if (response.result) {

                                $("#" + type + "").val(response.fpath);
                                if ($("#" + type + "").val() != '') {
                                    $("#img" + type + "").attr("src", response.fpath);
                                }
                                swal("", "File upload successfully. ", "success")
                            }
                            else {
                                $("#" + type + "").val('');
                                swal("", response.mesg, "error")
                            }
                        }
                        else {
                            swal("", "Fail to Upload File", "error")
                        }
                        return false;

                    },
                    error: function (e) {

                        $("#divLoader").hide();
                        swal("", "An Error Occured while uploading file", "error");
                    }
                });

                /*}*/
                break;
            default:
                swal("", 'File should be in JPG/JPEG/PNG/pdf format./फाइल JPG/JPEG/PNG/pdf प्रारूप में होनी चाहिए।', "warning");
                this.value = '';
                return false;
        }

    }


    function onlyNos(e, t) {
        try {
            if (window.event) {
                var charCode = window.event.keyCode;
            }
            else if (e) {
                var charCode = e.which;
            }
            else { return true; }
            if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                return false;
            }
            return true;
        }
        catch (err) {
            alert(err.Description);
        }

    }
    function validate() {
        debugger;

        if ($('#HT_proposed').val() == " " || $('#HT_proposed').val() == null || $('#HT_proposed').val() == undefined) {
            swal("", "Please Enter HT proposed..", "warning");
            $('#HT_proposed').focus();
            return false;
        }
        if ($('#DG_proposed').val() == " " ||  $('#DG_proposed').val() == null || $('#DG_proposed').val() == undefined) {
            swal("", "Please Enter DG proposed..", "warning");
            $('#DG_proposed').focus();
            return false;
        }
        if ($('#MSB_proposed').val() == " " ||  $('#MSB_proposed').val() == null || $('#MSB_proposed').val() == undefined) {
            swal("", "Please Enter MSB proposed..", "warning");
            $('#MSB_proposed').focus();
            return false;
        }
        if ($('#TL_proposed').val() == " " || $('#TL_proposed').val() == null || $('#TL_proposed').val() == undefined) {
            swal("", "Please Enter TL Proposed..", "warning");
            $('#TL_proposed').focus();
            return false;
        }
        if ($('#DTC_proposed').val() == " " ||  $('#DTC_proposed').val() == null || $('#DTC_proposed').val() == undefined) {
            swal("", "Please Enter DTC Proposed..", "warning");
            $('#DTC_proposed').focus();
            return false;
        }
        if ($('#IPP_proposed').val() == " " || $('#IPP_proposed').val() == null || $('#IPP_proposed').val() == undefined) {
            swal("", "Please Enter IPP Proposed..", "warning");
            $('#IPP_proposed').focus();
            return false;
        }
        if ($('#InstallationType').val() == " " || $('#InstallationType').val() == '0' || $('#InstallationType').val() == undefined) {
            swal("", "Please Select Installation Type..", "warning");
            $('#InstallationType').focus();
            return false;

        }
        if ($('#Remark').val() == " " || $('#Remark').val() == null || $('#Remark').val() == undefined) {
            swal("", "Please Enter Remark..", "warning");
            $('#Remark').focus();
            return false;
        }
        if ($('#OtherFile').val() == " " || $('#OtherFile').val() == undefined) {
            swal("", "Please Upload File..", "warning");
            $('#OtherFile').focus();
            return false;
        }
        else {
            return true;
            $("#ApplicantFormSubmit").submit();
        }
    }

    function subtotalcapacity(obj) {
        debugger;
        var sum = 0;
        $(".qty" + obj).each(function () {
            sum += +$(this).val();
        });
        $(".total" + obj).val(sum);
        Calculatetotal();
    }
    function Calculatetotal() {
        debugger;
        var totalsum = 0;
        for (var i = 1; i < 8; i++)
        {
            totalsum += +$(".total" + i).val();
        }
        $(".total").val(totalsum);
    }

    //$(document).on("change", "qty1", function () {
    //    var sum = 0;
    //    $("input[class *= 'qty1']").each(function () {
    //        sum += +$(this).val();
    //    });
    //    $(".total").val(sum);
    //});
    </script>



